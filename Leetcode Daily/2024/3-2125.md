```cpp
class Solution {
public:
    int numberOfBeams(vector<string>& bank) {
        int n = bank.size();
        vector<int> cnt(n);
        vector<int> next(n);
        int res = 0;
        for(int i = 0; i < n; ++i)
            cnt[i] = count(bank[i].begin(), bank[i].end(), '1');
        for(int i = n - 2; i >= 0; --i)
            next[i] = cnt[i + 1]? cnt[i + 1] : next[i + 1], res += cnt[i] * next[i];
        return res;
    }
};
```
